<!--If there are no projects in a category, a graph will not show-->
<!--If project names are too long, it will shove off other projects from the graph-->
<section>
  <div class="page-header">
      <a ui-sref="hackathons.view({ hackathonId: vm.hackathon._id })">Back to {{ vm.hackathon.name }}</a><br>
    <h1>{{ vm.hackathon.name }} - Results</h1>
  </div>

  <div class="container">
    <li class="col-xs-12 col-md-offset-4 col-md-4 vote-message" ng-repeat="block in vm.blockchain">
      Sender: {{block.sender}}<br>
      Recipient: {{block.recipient}}<br>
      vote1: {{block.voteCriteria1}}<br>
      vote2: {{block.voteCriteria2}}<br>
      vote3: {{block.voteCriteria3}}<br>
      vote4: {{block.voteCriteria4}}
    </li>
  </div>

  <div ng-repeat="category in vm.hackathon.category track by $index">
    <div ng-if="$even" style="float:left; width:40%; margin-left:-100px">
      <canvas id="bar" class="chart chart-bar"
        height="500%" width="600%" chart-data="data[$index]" chart-labels="labels[$index]" chart-series="series[$index]" chart-options="options[$index]">
      </canvas>

      <h2>Vote Counts</h2>
      <div ng-repeat="project in vm.projects[$index]">
        {{ project.name }} - {{ project.vote_size }} <br>
      </div>
    </div>

    <div ng-if="$odd" style="float:right; width:40%;">
      <canvas id="bar" class="chart chart-bar"
        height="500%" width="600%" chart-data="data[$index]" chart-labels="labels[$index]" chart-series="series[$index]" chart-options="options[$index]">
      </canvas>

      <h2>Vote Counts</h2>
      <div ng-repeat="project in vm.projects[$index]">
        {{ project.name }} - {{ project.vote_size }} <br>
      </div>
    </div>
  </div>

</section>
